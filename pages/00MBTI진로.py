# streamlit_app.py
import streamlit as st

st.set_page_config(page_title="MBTI 진로 추천 🌟", page_icon="🧭", layout="centered")

TITLE = "MBTI로 찾는 나에게 딱 맞는 진로 🎯"
st.title(TITLE)
st.write("안녕! 👋 MBTI 하나 고르면 너한테 어울리는 진로 **2가지**를 감성 있게 추천해줄게. 편하게 골라봐~")

mbti_list = [
    "ISTJ","ISFJ","INFJ","INTJ",
    "ISTP","ISFP","INFP","INTP",
    "ESTP","ESFP","ENFP","ENTP",
    "ESTJ","ESFJ","ENFJ","ENTJ"
]

# MBTI -> [(career, short note, emoji), ...]
recommendations = {
    "ISTJ": [("공무원", "안정적이고 규칙을 잘 지키는 편이라 체계적인 업무에 강해.", "🏛️"),
             ("회계사/세무사", "수치/규칙을 정확하게 다루는 능력이 큰 장점이야.", "🧾")],
    "ISFJ": [("간호사", "섬세하고 남을 챙기는 성향이 좋아서 사람 돌보는 일에 적합해.", "🩺"),
             ("사회복지사", "도움이 필요한 사람을 꾸준히 지지하는 일을 잘 해낼 거야.", "🤝")],
    "INFJ": [("상담사/심리치료사", "사람 속 마음을 이해하고 돕는 데 재능이 있어.", "🧠"),
             ("인문학 연구자/작가", "깊이 있는 사고로 의미를 만드는 일을 하면 빛나.", "📚")],
    "INTJ": [("데이터 사이언티스트", "전략적이고 구조화된 문제 해결을 좋아해.", "📊"),
             ("전략 컨설턴트", "장기 플랜 세우고 실행하는 데 재능이 있어.", "🧭")],
    "ISTP": [("엔지니어/기술직", "손으로 직접 문제를 해결하는 실무에 강해.", "🔧"),
             ("항공정비사/기계정비", "현장에서 즉각적으로 판단하고 해결하는 걸 잘해.", "✈️")],
    "ISFP": [("그래픽 디자이너", "감성적이고 미적인 감각을 실무로 연결하기 좋아.", "🎨"),
             ("촬영/영상 편집자", "현장 감각과 섬세함이 필요한 일에 어울려.", "🎬")],
    "INFP": [("작가/콘텐츠 크리에이터", "자기만의 세계와 메시지를 표현하기 좋아해.", "✍️"),
             ("아동/청소년 상담사", "공감 능력으로 깊은 신뢰를 만들 수 있어.", "🌱")],
    "INTP": [("연구원/학자", "이론과 논리를 탐구하는 걸 즐기는 타입이야.", "🔬"),
             ("소프트웨어 개발자", "복잡한 문제를 논리적으로 풀어내는 데 강해.", "💻")],
    "ESTP": [("영업/세일즈", "순간 판단과 사람 상대를 즐기며 성과도 빨리 보여줘.", "🚀"),
             ("응급구조사/현장 기술자", "빠른 판단과 행동으로 결과를 만드는 일을 잘해.", "🚑")],
    "ESFP": [("공연/엔터테이너", "현장 에너지와 사람 앞에서 빛나는 타입!", "🎤"),
             ("이벤트 기획자", "사람들 즐겁게 만드는 일에 재능이 있어.", "🎉")],
    "ENFP": [("마케터/브랜딩", "아이디어가 풍부하고 사람 마음을 잘 읽어.", "📣"),
             ("스타트업 창업가", "새로운 시도와 사람 모으는 걸 즐겨.", "🌱")],
    "ENTP": [("창업가/제품 매니저", "아이디어 발굴과 실행, 토론을 즐기는 타입.", "🧩"),
             ("변호사/정책분석가", "논리와 설득으로 이슈를 풀어내는 역할이 잘 맞아.", "⚖️")],
    "ESTJ": [("관리자/운영관리", "조직을 잘 운영하고 목표 달성에 강해.", "📋"),
             ("생산관리/프로젝트 매니저", "계획하고 관리하는 역할에서 빛나.", "🏗️")],
    "ESFJ": [("교사/교육 코디네이터", "사람 돌보고 관계 맺는 일을 좋아해.", "🏫"),
             ("의료 코디네이터/간병", "세심한 케어가 필요한 일에 적합해.", "🧑‍⚕️")],
    "ENFJ": [("HR/조직개발", "사람을 이끌고 성장시키는 데 탁월해.", "🤝"),
             ("교육 컨설턴트/강사", "영감을 주고 팀을 북돋아주는 역할에 잘 맞아.", "📢")],
    "ENTJ": [("CEO/경영자", "리더십으로 방향을 제시하고 주도하기 좋아해.", "👔"),
             ("전략 컨설턴트", "큰 그림을 그리고 실행 전략을 만드는 역할에 강해.", "🗺️")]
}

def get_recs(mbti):
    return recommendations.get(mbti, [])

# UI
st.markdown("### 1) MBTI 선택")
choice = st.selectbox("너의 MBTI를 골라줘 (또는 친구꺼 테스트해도 좋아!)", mbti_list, index=0)

st.markdown("### 2) 센스있는 진로 추천")
if st.button("추천 보여줘 ✨"):
    recs = get_recs(choice)
    if not recs:
        st.info("아직 추천 준비 중인 유형이야. 다른 걸 골라볼래?")
    else:
        st.markdown(f"#### {choice} — 너에게 어울리는 진로 2가지")
        for i, (job, note, emoji) in enumerate(recs, start=1):
            st.markdown(f"**{i}. {job} {emoji}**")
            st.write(f"> {note}")
        st.success("이 중에서 마음에 드는 게 있으면 더 자세히 알려줄게! 😎")

st.markdown("---")
st.markdown("### 팁 💡")
st.write("- MBTI는 너의 **성향 참고용**이야. 꼭 하나의 길만 있는 건 아니니까 다양한 경험해봐!")
st.write("- 더 자세한 직업 정보, 필요한 공부나 자격증 원하면 말해줘. 같이 플랜 짜주겠다! 🔍")

# Optional: show a friendly signoff
st.markdown("<div style='text-align:center;'>더 궁금하면 언제든 눌러~ 친구한테도 추천해줘! 🤗</div>", unsafe_allow_html=True)
