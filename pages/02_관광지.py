# app.py
import streamlit as st
import pandas as pd
import plotly.express as px

# ------------------------------------
# 페이지 설정
# ------------------------------------
st.set_page_config(page_title="서울 관광지 지도", page_icon="🗺️", layout="wide")

st.title("🌆 외국인들이 사랑하는 서울의 관광지 TOP10")
st.write("Plotly(풀리우) 지도 위에 서울의 대표 관광지 10곳을 나노 색상 테마로 시각화했습니다.")

# ------------------------------------
# 관광지 데이터 (위도, 경도, 설명)
# ------------------------------------
data = {
    "관광지": [
        "경복궁", "명동", "남산타워(N서울타워)", "홍대 거리", "북촌 한옥마을",
        "롯데월드", "청계천", "동대문 디자인플라자(DDP)", "잠실 롯데타워", "광장시장"
    ],
    "위도": [
        37.579617, 37.563757, 37.551169, 37.556308, 37.582604,
        37.511000, 37.569124, 37.566479, 37.513068, 37.570243
    ],
    "경도": [
        126.977041, 126.985302, 126.988227, 126.923651, 126.983020,
        127.098000, 126.978395, 127.009010, 127.102521, 126.998177
    ],
    "인기지수(%)": [98, 96, 94, 92, 90, 89, 87, 85, 84, 82],
    "소개": [
        "조선 왕조의 중심 궁궐로, 전통 한복 체험이 인기입니다.",
        "서울 최고의 쇼핑 거리이자 길거리 음식의 천국입니다.",
        "서울 전경을 한눈에 볼 수 있는 전망 명소입니다.",
        "젊음과 예술이 가득한 거리로 외국인 관광객에게 인기입니다.",
        "전통 한옥과 현대 문화가 공존하는 마을입니다.",
        "서울 도심 속 대형 놀이공원으로 가족 단위 여행객에게 인기입니다.",
        "도심 속을 흐르는 산책로로 힐링 명소로 꼽힙니다.",
        "현대적 건축미와 패션, 전시 문화의 중심지입니다.",
        "서울의 랜드마크 초고층 타워로 야경이 아름답습니다.",
        "전통 시장의 정취와 다양한 먹거리를 즐길 수 있습니다."
    ]
}

df = pd.DataFrame(data)

# ------------------------------------
# Plotly 지도 시각화 (마커: 노란색)
# ------------------------------------
fig = px.scatter_mapbox(
    df,
    lat="위도",
    lon="경도",
    hover_name="관광지",
    hover_data={"위도": False, "경도": False, "인기지수(%)": True},
    zoom=11,
    height=560,  # 지도 크기 (약 80%)
)

fig.update_traces(
    marker=dict(size=18, color="gold", opacity=0.9)
)

fig.update_layout(
    mapbox_style="carto-positron",  # 나노 느낌의 컬러풀 지도 스타일
    title="🗺️ 서울 외국인 인기 관광지 지도",
    title_font=dict(size=22, color="#333", family="Pretendard"),
    margin=dict(l=10, r=10, t=60, b=10),
    paper_bgcolor="#F9FAFB",
)

# ------------------------------------
# 지도 출력
# ------------------------------------
st.plotly_chart(fig, use_container_width=True)

# ------------------------------------
# 관광지 간단 소개
# ------------------------------------
st.markdown("## 🏙️ 서울 주요 관광지 한눈에 보기")
for i in range(len(df)):
    st.markdown(f"""
    **{i+1}. {df['관광지'][i]}**  
    👉 {df['소개'][i]}  
    **인기지수:** {df['인기지수(%)'][i]}%
    """)

# ------------------------------------
# 푸터
# ------------------------------------
st.markdown("""
---
✨ 더 많은 한국형 AI & 데이터 시각화 예제는 [gptonline.ai](https://gptonline.ai/ko/) 에서 확인하세요!
""")

